<!DOCTYPE html>
<html lang="fi" >
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-cloud/1.2.5/d3.layout.cloud.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/utils/Draggable.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js'></script>
<style>

.container {
  position: relative;
  top: 50%;
  left: 50%;
  width: 320px;
  height: 400px;
  opacity: 0;
  visibility: hidden;
  transform: translate(-50%, -50%); 
}

.list-item {
  position: absolute;
  top: 0;
  left: 0;
  height: 30px;
  width: 100%;
}

.item-content {
  height: 100%;
  border: 0px solid rgba(123, 123, 123, 0.498039);
  border-radius: 4px;
  color: #999999;
  line-height: 30px;
  padding-left: 32px;
  font-size: 24px;
  font-weight: 400;
  background-color: white;
  box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 2px 0px;
}
html,
body {
  width: 100vw;
  height: 100vh;
  margin: 0;
  border: 0;
  padding: 0;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

*,
*::before,
*::after {
  -webkit-box-sizing: inherit;
  -moz-box-sizing: inherit;
  box-sizing: inherit;
  box-sizing: border-box; 
}


html {
  box-sizing: border-box;
}

body {
  margin: 0;
  overflow-x: hidden;
}

.slider {
  padding: 3rem 0;
}
.slider > ul.slider-items {
  --_spacer: 1rem;
  display: grid;
  gap: var(--_spacer);
  grid-auto-flow: column;
  grid-auto-columns: 80vw;
  padding: 0 var(--_spacer) var(--_spacer);
  overflow-x: auto;
  overscroll-behavior-inline: contain;
  -ms-scroll-snap-type: inline mandatory;
      scroll-snap-type: inline mandatory;
  scroll-padding-inline: var(--_spacer, 1rem);
  /* width */
  /* Track */
  /* Handle */
  /* Handle on hover */
}
.slider > ul.slider-items::-webkit-scrollbar {
  height: 8px;
  border-radius: 8px;
}
.slider > ul.slider-items::-webkit-scrollbar-track {
  background: rgba(29, 55, 104, 0.15);
  border-radius: 8px;
}
.slider > ul.slider-items::-webkit-scrollbar-thumb {
  background: rgba(29, 55, 104, 0.75);
  border-radius: 8px;
}
.slider > ul.slider-items::-webkit-scrollbar-thumb:hover {
  background: #1d3768;
}
.slider > ul.slider-items > li {
  display: flex;
  scroll-snap-align: center;
  background: #e4e4e4;
  flex-direction: column;
  gap: 5px;
  padding: 1.5rem;
  font-family: Arial, sans-serif;
  color: #1D3768;
}
.slider > ul.slider-items > li > * {
  margin: 0;
}
.slider > ul.slider-items > li h3 {
  font-size: 24px;
  font-weight: bold;
}
.slider > ul.slider-dots {
  margin: 0;
  margin-top: 2rem;
  padding: 0;
  list-style: none;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}
.slider > ul.slider-dots > li {
  width: 8px;
  height: 8px;
  background: #1D3768;
  border-radius: 100%;
  opacity: 0.5;
  transition: opacity 0.2s ease-in-out;
}
.slider > ul.slider-dots > li.active {
  opacity: 1;
}
</style>

</head>
<body>
<div class="slider">
	<ul class="slider-items">
		<li data-id="0">
        <svg id="wordcloud0"></svg>
		</li>
		<li data-id="1">
        <svg id="wordcloud1"></svg>   
		</li>
		<li data-id="2">
        <svg id="wordcloud2"></svg>
		</li>
		<li data-id="3">
        <svg id="wordcloud3"></svg>
		</li>
		<li data-id="4">
        <svg id="wordcloud4"></svg>
		</li>
		<li data-id="5">
        <p ondblclick="vihreat()">Double-click vihreät</p>
        <div id="my-tree"></div>
		</li>	
		<li data-id="6">
        <div id="my-tree1">
        <section class="container" ondblclick="myFunction()"></section>
        </div>
	</ul>
	<ul class="slider-dots">
		<li class="active"></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>	
		<li></li>
		<li></li>
	</ul>
</div>    
<svg id="radar"></svg>      
<script>
rad();
function jarjesta(){
var rowSize = 31; // => container height / number of items
var container = document.querySelector(".container");
var listItems = Array.from(document.querySelectorAll(".list-item")); // Array of elements

var sortables = listItems.map(Sortable); // Array of sortables
var total = sortables.length;

TweenLite.to(container, 0.5, { autoAlpha: 1 });

function changeIndex(item, to) {
  // Change position in array
  arrayMove(sortables, item.index, to);

  // Change element's position in DOM. Not always necessary. Just showing how.
  if (to === total - 1) {
    container.appendChild(item.element);
  } else {
    var i = item.index > to ? to : to + 1;
    container.insertBefore(item.element, container.children[i]);
  }

  // Set index for each sortable
  sortables.forEach((sortable, index) => sortable.setIndex(index));
}

function Sortable(element, index) {
  var content = element.querySelector(".item-content");
  var order = element.querySelector(".order");
  
  var animation = TweenLite.to(content, 0.3, {
    boxShadow: "rgba(0,0,0,0.2) 0px 16px 32px 0px",
    force3D: true,
    scale: 1.1,
    paused: true
  });

  var dragger = new Draggable(element, {
    onDragStart: downAction,
    onRelease: upAction,
    onDrag: dragAction,
    cursor: "inherit",
    type: "y"
  });

  // Public properties and methods
  var sortable = {
    dragger: dragger,
    element: element,
    index: index,
    setIndex: setIndex
  };

  TweenLite.set(element, { y: index * rowSize });

  function setIndex(index) {
    sortable.index = index;
    order.textContent = index + 1;

    // Don't layout if you're dragging
    if (!dragger.isDragging) layout();
  }

  function downAction() {
    animation.play();
    this.update();
	myFunction();
	
  }

  function dragAction() {
    // Calculate the current index based on element's position
    var index = clamp(Math.round(this.y / rowSize), 0, total - 1);

    if (index !== sortable.index) {
      changeIndex(sortable, index);
    }
  }

  function upAction() {
    animation.reverse();
    layout();
  }

  function layout() {
    TweenLite.to(element, 0.3, { y: sortable.index * rowSize });
  }

  return sortable;
}

// Changes an elements's position in array
function arrayMove(array, from, to) {
  array.splice(to, 0, array.splice(from, 1)[0]);
}

// Clamps a value to a min/max
function clamp(value, a, b) {
  return value < a ? a : value > b ? b : value;
}

function myFunction() { 
var dropContainer = document.getElementsByClassName('container');
var items = Array.from(container.getElementsByClassName('item-content'));
var newArray = items.map(function(item) {
  return item.innerText;
});
console.log(newArray);
rad();
}

}



function vihreat(){
var table = '<section class="container" ondblclick="myFunction()">'
var montako = names.length/2;

for (var r = 0; r < montako; r++) {
table += '<div class="list-item">'
table += '<div class="item-content">'
table += '<span class="order">'+names[(r*2)+1]+'</span>'+names[r*2]
table += '</div></div>'
}
table += '</section>'
console.log(table);
document.getElementById("my-tree").innerHTML = table;
jarjesta();
}

const lista1 = [{"group":"1","text":"Ahkeruus","size":"20","choice":"0"},{"group":"1","text":"Avoimmuus","size":"20","choice":"0"},{"group":"1","text":"Ekologisuus","size":"20","choice":"0"},{"group":"1","text":"Eläinoikeudet","size":"20","choice":"0"},{"group":"1","text":"Empaattisuus","size":"20","choice":"0"},{"group":"1","text":"Esteettisyys","size":"20","choice":"0"},{"group":"1","text":"Hengellisyys","size":"20","choice":"0"},{"group":"1","text":"Henkisyys","size":"10","choice":"0"},{"group":"1","text":"Hillitty","size":"10","choice":"0"},{"group":"1","text":"Huumori","size":"10","choice":"0"},{"group":"1","text":"Huumorintaju","size":"10","choice":"0"},{"group":"1","text":"Iloisuus","size":"10","choice":"0"},{"group":"1","text":"Innovatiivisuus","size":"10","choice":"0"},{"group":"1","text":"Itsehillintä","size":"10","choice":"0"},{"group":"1","text":"Itsekontrolli","size":"10","choice":"0"},{"group":"1","text":"Itsekritiikki","size":"10","choice":"0"},{"group":"1","text":"Itsereflektio","size":"10","choice":"0"},{"group":"1","text":"Itsetutkiskelu","size":"10","choice":"0"},{"group":"1","text":"Joustavuus","size":"10","choice":"0"},{"group":"1","text":"Kärsivällisyys","size":"10","choice":"0"},{"group":"1","text":"Kauneus","size":"10","choice":"0"},{"group":"1","text":"Käytännöllisyys","size":"10","choice":"0"},{"group":"1","text":"Kiireettömyys","size":"10","choice":"0"},{"group":"1","text":"Kiitollisuus","size":"10","choice":"0"},{"group":"1","text":"Kiltteys","size":"5","choice":"0"},{"group":"1","text":"Lämminhenkisyys","size":"5","choice":"0"},{"group":"1","text":"Luonnonläheisyys","size":"5","choice":"0"},{"group":"1","text":"Mielihyvä","size":"5","choice":"0"},{"group":"1","text":"Mielikuvitus","size":"5","choice":"0"},{"group":"1","text":"Minäkuva","size":"5","choice":"0"},{"group":"1","text":"Myönteisyys","size":"5","choice":"0"},{"group":"1","text":"Nauru","size":"5","choice":"0"},{"group":"1","text":"Nöyryys","size":"5","choice":"0"},{"group":"1","text":"Omistautuminen","size":"5","choice":"0"},{"group":"1","text":"Onnellisuus","size":"5","choice":"0"},{"group":"1","text":"Optimistisuus","size":"5","choice":"0"},{"group":"1","text":"Pohdiskelevuus","size":"5","choice":"0"},{"group":"1","text":"Positiivisuus","size":"5","choice":"0"},{"group":"1","text":"Puolueettomuus","size":"5","choice":"0"},{"group":"1","text":"Rakastavuus","size":"5","choice":"0"},{"group":"1","text":"Rakentavuus","size":"5","choice":"0"},{"group":"1","text":"Rakkaus","size":"5","choice":"0"},{"group":"1","text":"Rauhallisuus","size":"5","choice":"0"},{"group":"1","text":"Realistisuus","size":"5","choice":"0"},{"group":"1","text":"Rehellisyys","size":"5","choice":"0"},{"group":"1","text":"Rentoutuneisuus","size":"5","choice":"0"}];

const lista2 = [{"group":"1","text":"Säännöllisyys","size":"20","choice":"0"},{"group":"1","text":"Säästäminen","size":"2","choice":"0"},{"group":"1","text":"Sitkeys","size":"2","choice":"0"},{"group":"1","text":"Sitoutuminen","size":"20","choice":"0"},{"group":"1","text":"Tarkkuus","size":"2","choice":"0"},{"group":"1","text":"Tasapainoisuus","size":"2","choice":"0"},{"group":"10","text":"Täsmällisyys","size":"2","choice":"0"},{"group":"1","text":"Tavoitteellisuus","size":"2","choice":"0"},{"group":"1","text":"Terävyys","size":"2","choice":"0"},{"group":"1","text":"Tiedonjano","size":"2","choice":"0"},{"group":"1","text":"Toiveikkuus","size":"2","choice":"0"},{"group":"1","text":"Tunteellisuus","size":"15","choice":"0"},{"group":"1","text":"Tutkiskelu","size":"2","choice":"0"},{"group":"1","text":"Tyyneys","size":"20","choice":"0"},{"group":"1","text":"Tyytyväisyys","size":"2","choice":"0"},{"group":"1","text":"Uteliaisuus","size":"2","choice":"0"},{"group":"1","text":"Uudistuminen","size":"2","choice":"0"},{"group":"1","text":"Vaatimattomuus","size":"2","choice":"0"},{"group":"10","text":"Vakaus","size":"2","choice":"0"},{"group":"1","text":"Valppaus","size":"2","choice":"0"},{"group":"1","text":"Vapaus","size":"2","choice":"0"},{"group":"1","text":"Vapautuneisuus","size":"2","choice":"0"},{"group":"1","text":"Varovaisuus","size":"15","choice":"0"},{"group":"1","text":"Vastuullisuus","size":"10","choice":"0"},{"group":"1","text":"Voimaantuminen","size":"1","choice":"0"},{"group":"1","text":"Yhdenvertaisuus","size":"1","choice":"0"},{"group":"10","text":"Yhteenkuuluvuus","size":"1","choice":"0"},{"group":"1","text":"Yksilöllisyys","size":"10","choice":"0"},{"group":"1","text":"Ymmärtävyys","size":"1","choice":"0"},{"group":"1","text":"Ympäristöystävällisyys","size":"1","choice":"0"},{"group":"1","text":"Ystävällisyys","size":"1","choice":"0"},{"group":"1","text":"Ytimekkyys","size":"1","choice":"0"}];

const lista3 = [{"group":"2","text":"Anteliaisuus","size":"15","choice":"0"},{"group":"2","text":"Arvostus","size":"15","choice":"0"},{"group":"2","text":"Auttaminen","size":"15","choice":"0"},{"group":"2","text":"Avuliaisuus","size":"15","choice":"0"},{"group":"2","text":"Huomaavaisuus","size":"15","choice":"0"},{"group":"2","text":"Hyväksyvyys","size":"15","choice":"0"},{"group":"2","text":"Ilahduttavuus","size":"15","choice":"0"},{"group":"2","text":"Kannustavuus","size":"15","choice":"0"},{"group":"2","text":"Kunnioittavuus","size":"5","choice":"0"},{"group":"2","text":"Myötätuntoisuus","size":"5","choice":"0"},{"group":"2","text":"Oikeudenmukaisuus","size":"5","choice":"0"},{"group":"2","text":"Solidaarisuus","size":"5","choice":"0"},{"group":"2","text":"Suojelevuus","size":"5","choice":"0"},{"group":"2","text":"Tasapuolisuus","size":"5","choice":"0"},{"group":"2","text":"Tunnustavuus","size":"5","choice":"0"},{"group":"3","text":"Ajanhallinta","size":"15","choice":"0"},{"group":"3","text":"Autonomia","size":"15","choice":"0"},{"group":"3","text":"Elämänmyönteisyys","size":"15","choice":"0"},{"group":"3","text":"Energisyys","size":"15","choice":"0"},{"group":"3","text":"Harkitsevuus","size":"10","choice":"0"},{"group":"3","text":"Hyvinvointi","size":"10","choice":"0"},{"group":"3","text":"Innokkuus","size":"10","choice":"0"},{"group":"3","text":"Innostus","size":"10","choice":"0"},{"group":"3","text":"Intohimoisuus","size":"10","choice":"0"},{"group":"3","text":"Intuitio","size":"10","choice":"0"},{"group":"3","text":"Itsearvostus","size":"10","choice":"0"},{"group":"3","text":"Itseluottamus","size":"10","choice":"0"},{"group":"3","text":"Itsenäisyys","size":"10","choice":"0"},{"group":"3","text":"Itsensätoteutus","size":"10","choice":"0"},{"group":"3","text":"Itsesuojelu","size":"10","choice":"0"},{"group":"3","text":"Itsetuntemus","size":"10","choice":"0"},{"group":"3","text":"Jaksaminen","size":"10","choice":"0"},{"group":"3","text":"Järjestelmällisyys","size":"10","choice":"0"}];
  
var lista4 = [{"group":"3","text":"Kasvuhakuisuus","size":"4","choice":"0"},{"group":"3","text":"Kasvuhaluisuus","size":"4","choice":"0"},{"group":"3","text":"Kehittyvyys","size":"4","choice":"0"},{"group":"3","text":"Keskittyminen","size":"4","choice":"0"},{"group":"3","text":"Kestävyys","size":"4","choice":"0"},{"group":"3","text":"Kiinnostus","size":"4","choice":"0"},{"group":"3","text":"Kilpailuhenkisyys","size":"4","choice":"0"},{"group":"3","text":"Kokeilunhalu","size":"4","choice":"0"},{"group":"3","text":"Kriittisyys","size":"4","choice":"0"},{"group":"3","text":"Kyvykkyys","size":"4","choice":"0"},{"group":"3","text":"Luotettavuus","size":"4","choice":"0"},{"group":"3","text":"Luottamus","size":"4","choice":"0"},{"group":"3","text":"Luottamuskyky","size":"4","choice":"0"},{"group":"3","text":"Merkityksellisyys","size":"4","choice":"0"},{"group":"3","text":"Mielekkyys","size":"4","choice":"0"},{"group":"3","text":"Mielenrauha","size":"4","choice":"0"},{"group":"3","text":"Muutoskyky","size":"4","choice":"0"},{"group":"3","text":"Objektiivisuus","size":"4","choice":"0"},{"group":"3","text":"Oppimishalu","size":"4","choice":"0"},{"group":"3","text":"Osaaminen","size":"4","choice":"0"},{"group":"3","text":"Päämäärät","size":"4","choice":"0"},{"group":"4","text":"Päätöksenteko","size":"15","choice":"0"},{"group":"4","text":"Päättäväisyys","size":"15","choice":"0"},{"group":"4","text":"Pelottomuus","size":"15","choice":"0"},{"group":"4","text":"Ratkaisukeskeisyys","size":"15","choice":"0"},{"group":"4","text":"Riskinottokyky","size":"10","choice":"0"},{"group":"4","text":"Rohkeus","size":"10","choice":"0"},{"group":"4","text":"Ruokahalu","size":"10","choice":"0"},{"group":"4","text":"Saavutukset","size":"10","choice":"0"},{"group":"4","text":"Selkeys","size":"10","choice":"0"},{"group":"4","text":"Selviytymiskyky","size":"10","choice":"0"},{"group":"4","text":"Sietokyky","size":"10","choice":"0"},{"group":"4","text":"Sisukkuus","size":"10","choice":"0"},{"group":"4","text":"Sopeutuminen","size":"10","choice":"0"},{"group":"4","text":"Tarkkailevuus","size":"10","choice":"0"},{"group":"4","text":"Tarkoitus","size":"4","choice":"0"},{"group":"4","text":"Tarmokkuus","size":"4","choice":"0"},{"group":"4","text":"Terveellisyys","size":"4","choice":"0"},{"group":"4","text":"Tilannetaju","size":"4","choice":"0"},{"group":"4","text":"Tunnistaminen","size":"4","choice":"0"},{"group":"4","text":"Vahvistuminen","size":"4","choice":"0"},{"group":"4","text":"Valinnanvapaus","size":"4","choice":"0"},{"group":"4","text":"Viihtyvyys","size":"4","choice":"0"},{"group":"4","text":"Vilkkaus","size":"4","choice":"0"},{"group":"4","text":"Yhteisöllisyys","size":"4","choice":"0"},{"group":"4","text":"Yhteistyö","size":"4","choice":"0"},{"group":"4","text":"Yhteistyöhalukkuus","size":"4","choice":"0"},{"group":"4","text":"Yritteliäisyys","size":"4","choice":"0"}];



var laskuri = 0;
var clouds = ["#wordcloud1","#wordcloud2","#wordcloud3","#wordcloud4","#wordcloud5","#wordcloud6","#wordcloud7","#wordcloud8","#wordcloud9","#wordcloud10","#wordcloud11","#wordcloud12"];
var listat = [lista1,lista2,lista3,lista4];
var names = [];




function pilvessa() {

var listaId = listat[laskuri]; 
var cloudId = clouds[laskuri];

const marginTop = 0, 
  marginRight = 0,
  marginBottom = 0,
  marginLeft = 0,
  width = 640,
  height = 400,
  maxWords = 250, 
  fontFamily = "sans-serif",
  fontScale = 15,
  padding = 0,
  rotate = 0;


    const leveys = 800;
    const korkeus = 400;

    const layout = d3.layout.cloud()
      .size([leveys, korkeus])
      .words(listaId)
      .padding(padding)
      .rotate(() => rotate)
      .font(fontFamily)
      .fontSize(d => Math.sqrt(d.size) * fontScale)
      .on("end", piirra);

    layout.start();

    function piirra(sanat) {
      //const svg = d3.select("#word-cloud")
      const svg = d3.select(cloudId)
        .attr("width", leveys)
        .attr("height", korkeus);

      const g = svg.append("g")
        .attr("transform", `translate(${leveys / 2}, ${korkeus / 2})`);

      const tekstit = g.selectAll("text")
        .data(sanat)
        .enter()
        .append("text")
        .style("font-size", d => `${d.size}px`)
        .style("font-family", "Arial")
        .attr("text-anchor", "middle")
        .attr("transform", d => `translate(${d.x}, ${d.y})rotate(${d.rotate})`)
        .text(d => d.text)
        .style("cursor", "pointer")
        .style("fill", "black")
        .each(function (d) {
          d.vari = 0; 
        })
        .on("click", function (d) {
          d.vari = (d.vari + 1) % 3; 
          d3.select(this).style("fill", getColor(d.vari));
          console.log(laskuri,d.text,d.vari);
          
var testi = names.findIndex(checkAge);


function checkAge(age) {
  return age == d.text;
}


if(testi<0){
names.push(d.text,d.vari)}else{
names[1]=d.vari;
}
console.log(names);

          
        });
//console.log(tekstit);

function myFunction1() { 
var dropContainer = document.getElementsByClassName('container');
var items = Array.from(container.getElementsByClassName('item-content'));
var newArray = items.map(function(item) {
  return item.innerText;
});

console.log(newArray);
}
      function getColor(varinumero) {
        if (varinumero === 0) {
          return "black";
        } else if (varinumero === 1) {
          return "green";
        } else if (varinumero === 2) {
          return "red";
        }
      }
    }
    
}//pilvessa 

const listElement = document.querySelector('.slider ul.list');
const intersectionObserverElements = document.querySelectorAll('.slider > ul.slider-items > li');
const dots = document.querySelectorAll('.slider > ul.slider-dots > li');

function setActiveDot(selectedIndex) {
	dots.forEach((dot, index) => {
		dot.classList.remove('active');
		if (index === selectedIndex) {
			dot.classList.add('active');
		}
	});
}

let options = {
	root: listElement,
	rootMargin: '0px',
	threshold: [1]
}

let callback = (entries, observer) => {
	entries.forEach(entry => {
		if (entry.intersectionRatio === 1) {
			let dataId = `${entry.target.getAttribute('data-id')}`;
			setActiveDot(parseInt(dataId));
		}
	});
};

let observer = new IntersectionObserver(callback, options);

intersectionObserverElements.forEach((card) => {
	observer.observe(card);
});



  
  
  pilvessa();
    laskuri +=1;
    pilvessa();
    laskuri +=1;
    pilvessa();
    laskuri +=1;
    pilvessa();
  


function rad(){

radar_visualization({
  svg_id: "radar",
  width: 1450,
  height: 1000,
  colors: {
    background: "#fff",
    grid: '#dddde0',
    inactive: "#ddd"
  },
  title: "Valmennuskehä",
  date: "2023.05",
  quadrants: [
    { name: "Verkostoituminen" },
    { name: "Vuorovaikutus" },
    { name: "Itseluottamus" },
    { name: "Ajanhallinta" },
  ],
  rings: [
    { name: "VAHVUUDET", color: "#5ba300" },
    { name: "ARVOT", color: "#009eb0" },
    { name: "ASENTEET", color: "#c7ba00" },
    { name: "HEIKKOUDET", color: "#e09b96" }
  ],
  print_layout: true,
  links_in_new_tabs: true,
  // zoomed_quadrant: 0,
  //ENTRIES
  entries: [
      {
        "quadrant": 3,
        "ring": 2,
        "label": "Ahkeruus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 3,
        "label": "Avoimmuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Ekologisuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 2,
        "label": "Eläinoikeudet",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Empaattisuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Esteettisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 1,
        "label": "Hengellisyys",
        "link": "https://engineering.zalando.com/tags/apache-flink.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 1,
        "label": "Henkisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 3,
        "label": "Huumori",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 1,
        "label": "Huumorintaju",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Itsehillintä",
        "link": "https://engineering.zalando.com/tags/apache-spark.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 3,
        "label": "Itsekontrolli",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 2,
        "label": "Itsekritiikki",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 0,
        "label": "Kauneus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 0,
        "label": "Kiltteys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Myönteisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 2,
        "label": "Omistautuminen",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 1,
        "label": "Rakastavuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 1,
        "label": "Rehellisyys",
        "active": true,
        "moved": 1
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Tarkkuus",
        "link": "https://engineering.zalando.com/tags/cassandra.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Terävyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Toiveikkuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 1,
        "label": "Tyytyväisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 0,
        "label": "Vastuullisuus",
        "link": "https://engineering.zalando.com/tags/elasticsearch.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 0,
        "label": "Yksilöllisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Ystävällisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 1,
        "label": "Anteliaisuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Huomaavaisuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Myötätuntoisuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Autonomia",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Itsetuntemus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Kasvuhaluisuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 0,
        "label": "Kilpailuhenkisyys",
        "link": "https://engineering.zalando.com/tags/postgresql.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 0,
        "label": "Muutoskyky",
        "link": "https://engineering.zalando.com/tags/redis.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 2,
        "label": "Päämäärät",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Rohkeus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 3,
        "label": "Sopeutuminen",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 2,
        "ring": 0,
        "label": "Tunnistaminen",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 0,
        "label": "Viihtyvyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 0,
        "label": "Yhteisöllisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 1,
        "label": "Yhteistyö",
        "active": true,
        "moved": 1
      },
      {
        "quadrant": 1,
        "ring": 1,
        "label": "Yritteliäisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 1,
        "label": "Saavutukset",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 0,
        "label": "Selkeys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 0,
        "label": "Selviytymiskyky",
        "link": "https://engineering.zalando.com/tags/docker.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 0,
        "label": "Tarkoitus",
        "link": "https://engineering.zalando.com/tags/kubernetes.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 0,
        "label": "Tarmokkuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 3,
        "label": "Terveellisyys",
        "link": "https://engineering.zalando.com/tags/stups.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 0,
        "label": "Tilannetaju",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 2,
        "label": "Hyväksyvyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 2,
        "label": "Ilahduttavuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 1,
        "ring": 3,
        "label": "Kunnioittavuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 3,
        "label": "Suojelevuus",
        "link": "https://engineering.zalando.com/tags/clojure.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 1,
        "label": "Tunnustavuus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Elämänmyönteisyys",
        "link": "https://engineering.zalando.com/tags/golang.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Harkitsevuus",
        "link": "https://engineering.zalando.com/tags/graphql.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 3,
        "label": "Innokkuus",
        "link": "https://engineering.zalando.com/tags/haskell.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Innostus",
        "link": "https://engineering.zalando.com/tags/java.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Intohimoisuus",
        "link": "https://engineering.zalando.com/tags/javascript.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Intuitio",
        "link": "https://engineering.zalando.com/tags/kotlin.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Luonnonläheisyys",
        "link": "https://engineering.zalando.com/tags/openapi.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Mielihyvä",
        "link": "https://engineering.zalando.com/tags/python.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 2,
        "label": "Nauru",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 3,
        "label": "Nöyryys",
        "link": "https://engineering.zalando.com/tags/rust.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Omistautuminen",
        "link": "https://engineering.zalando.com/tags/scala.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Onnellisuus",
        "link": "https://engineering.zalando.com/tags/swift.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 0,
        "ring": 0,
        "label": "Rakastavuus",
        "link": "https://engineering.zalando.com/tags/typescript.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Rakkaus",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Rehellisyys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Sitkeys",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Tarkkuus",
        "link": "https://engineering.zalando.com/tags/apache-kafka.html",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 0,
        "label": "Täsmällisyys",
        "link": "https://nakadi.io",
        "active": true,
        "moved": 0
      },
      {
        "quadrant": 3,
        "ring": 1,
        "label": "Terävyys",
        "link": "https://engineering.zalando.com/tags/rabbitmq.html",
        "active": true,
        "moved": 0
      }
    ]
  //ENTRIES
  });
  function radar_visualization(config) {

  // custom random number generator, to make random sequence reproducible
  // source: https://stackoverflow.com/questions/521295
  var seed = 42;
  function random() {
    var x = Math.sin(seed++) * 10000;
    return x - Math.floor(x);
  }

  function random_between(min, max) {
    return min + random() * (max - min);
  }

  function normal_between(min, max) {
    return min + (random() + random()) * 0.5 * (max - min);
  }

  // radial_min / radial_max are multiples of PI
  const quadrants = [
    { radial_min: 0, radial_max: 0.5, factor_x: 1, factor_y: 1 },
    { radial_min: 0.5, radial_max: 1, factor_x: -1, factor_y: 1 },
    { radial_min: -1, radial_max: -0.5, factor_x: -1, factor_y: -1 },
    { radial_min: -0.5, radial_max: 0, factor_x: 1, factor_y: -1 }
  ];

  const rings = [
    { radius: 130 },
    { radius: 220 },
    { radius: 310 },
    { radius: 400 }
  ];

  const title_offset =
    { x: -675, y: -420 };

  const footer_offset =
    { x: -675, y: 420 };

  const legend_offset = [
    { x: 450, y: 90 },
    { x: -675, y: 90 },
    { x: -675, y: -310 },
    { x: 450, y: -310 }
  ];

  function polar(cartesian) {
    var x = cartesian.x;
    var y = cartesian.y;
    return {
      t: Math.atan2(y, x),
      r: Math.sqrt(x * x + y * y)
    }
  }

  function cartesian(polar) {
    return {
      x: polar.r * Math.cos(polar.t),
      y: polar.r * Math.sin(polar.t)
    }
  }

  function bounded_interval(value, min, max) {
    var low = Math.min(min, max);
    var high = Math.max(min, max);
    return Math.min(Math.max(value, low), high);
  }

  function bounded_ring(polar, r_min, r_max) {
    return {
      t: polar.t,
      r: bounded_interval(polar.r, r_min, r_max)
    }
  }

  function bounded_box(point, min, max) {
    return {
      x: bounded_interval(point.x, min.x, max.x),
      y: bounded_interval(point.y, min.y, max.y)
    }
  }

  function segment(quadrant, ring) {
    var polar_min = {
      t: quadrants[quadrant].radial_min * Math.PI,
      r: ring === 0 ? 30 : rings[ring - 1].radius
    };
    var polar_max = {
      t: quadrants[quadrant].radial_max * Math.PI,
      r: rings[ring].radius
    };
    var cartesian_min = {
      x: 15 * quadrants[quadrant].factor_x,
      y: 15 * quadrants[quadrant].factor_y
    };
    var cartesian_max = {
      x: rings[3].radius * quadrants[quadrant].factor_x,
      y: rings[3].radius * quadrants[quadrant].factor_y
    };
    return {
      clipx: function(d) {
        var c = bounded_box(d, cartesian_min, cartesian_max);
        var p = bounded_ring(polar(c), polar_min.r + 15, polar_max.r - 15);
        d.x = cartesian(p).x; // adjust data too!
        return d.x;
      },
      clipy: function(d) {
        var c = bounded_box(d, cartesian_min, cartesian_max);
        var p = bounded_ring(polar(c), polar_min.r + 15, polar_max.r - 15);
        d.y = cartesian(p).y; // adjust data too!
        return d.y;
      },
      random: function() {
        return cartesian({
          t: random_between(polar_min.t, polar_max.t),
          r: normal_between(polar_min.r, polar_max.r)
        });
      }
    }
  }

  // position each entry randomly in its segment
  for (var i = 0; i < config.entries.length; i++) {
    var entry = config.entries[i];
    entry.segment = segment(entry.quadrant, entry.ring);
    var point = entry.segment.random();
    entry.x = point.x;
    entry.y = point.y;
    entry.color = entry.active || config.print_layout ?
      config.rings[entry.ring].color : config.colors.inactive;
  }

  // partition entries according to segments
  var segmented = new Array(4);
  for (var quadrant = 0; quadrant < 4; quadrant++) {
    segmented[quadrant] = new Array(4);
    for (var ring = 0; ring < 4; ring++) {
      segmented[quadrant][ring] = [];
    }
  }
  for (var i=0; i<config.entries.length; i++) {
    var entry = config.entries[i];
    segmented[entry.quadrant][entry.ring].push(entry);
  }

  // assign unique sequential id to each entry
  var id = 1;
  for (var quadrant of [2,3,1,0]) {
    for (var ring = 0; ring < 4; ring++) {
      var entries = segmented[quadrant][ring];
      entries.sort(function(a,b) { return a.label.localeCompare(b.label); })
      for (var i=0; i<entries.length; i++) {
        entries[i].id = "" + id++;
      }
    }
  }

  function translate(x, y) {
    return "translate(" + x + "," + y + ")";
  }

  function viewbox(quadrant) {
    return [
      Math.max(0, quadrants[quadrant].factor_x * 400) - 420,
      Math.max(0, quadrants[quadrant].factor_y * 400) - 420,
      440,
      440
    ].join(" ");
  }

  var svg = d3.select("svg#" + config.svg_id)
    .style("background-color", config.colors.background)
    .attr("width", config.width)
    .attr("height", config.height);

  var radar = svg.append("g");
  if ("zoomed_quadrant" in config) {
    svg.attr("viewBox", viewbox(config.zoomed_quadrant));
  } else {
    radar.attr("transform", translate(config.width / 2, config.height / 2));
  }

  var grid = radar.append("g");

  // draw grid lines
  grid.append("line")
    .attr("x1", 0).attr("y1", -400)
    .attr("x2", 0).attr("y2", 400)
    .style("stroke", config.colors.grid)
    .style("stroke-width", 1);
  grid.append("line")
    .attr("x1", -400).attr("y1", 0)
    .attr("x2", 400).attr("y2", 0)
    .style("stroke", config.colors.grid)
    .style("stroke-width", 1);

  // background color. Usage `.attr("filter", "url(#solid)")`
  // SOURCE: https://stackoverflow.com/a/31013492/2609980
  var defs = grid.append("defs");
  var filter = defs.append("filter")
    .attr("x", 0)
    .attr("y", 0)
    .attr("width", 1)
    .attr("height", 1)
    .attr("id", "solid");
  filter.append("feFlood")
    .attr("flood-color", "rgb(0, 0, 0, 0.8)");
  filter.append("feComposite")
    .attr("in", "SourceGraphic");

  // draw rings
  for (var i = 0; i < rings.length; i++) {
    grid.append("circle")
      .attr("cx", 0)
      .attr("cy", 0)
      .attr("r", rings[i].radius)
      .style("fill", "none")
      .style("stroke", config.colors.grid)
      .style("stroke-width", 1);
    if (config.print_layout) {
      grid.append("text")
        .text(config.rings[i].name)
        .attr("y", -rings[i].radius + 62)
        .attr("text-anchor", "middle")
        .style("fill", config.rings[i].color)
        .style("opacity", 0.35)
        .style("font-family", "Arial, Helvetica")
        .style("font-size", "42px")
        .style("font-weight", "bold")
        .style("pointer-events", "none")
        .style("user-select", "none");
    }
  }

  function legend_transform(quadrant, ring, index=null) {
    var dx = ring < 2 ? 0 : 140;
    var dy = (index == null ? -16 : index * 12);
    if (ring % 2 === 1) {
      dy = dy + 36 + segmented[quadrant][ring-1].length * 12;
    }
    return translate(
      legend_offset[quadrant].x + dx,
      legend_offset[quadrant].y + dy
    );
  }

  // draw title and legend (only in print layout)
  if (config.print_layout) {

    // title
    radar.append("text")
      .attr("transform", translate(title_offset.x, title_offset.y))
      .text(config.title)
      .style("font-family", "Arial, Helvetica")
      .style("font-size", "30")
      .style("font-weight", "bold")

    // date
    radar
      .append("text")
      .attr("transform", translate(title_offset.x, title_offset.y + 20))
      .text(config.date || "")
      .style("font-family", "Arial, Helvetica")
      .style("font-size", "14")
      .style("fill", "#999")
/*
    // footer
    radar.append("text")
      .attr("transform", translate(footer_offset.x, footer_offset.y))
      .text("▲ moved up     ▼ moved down")
      .attr("xml:space", "preserve")
      .style("font-family", "Arial, Helvetica")
      .style("font-size", "10px");
*/
    // legend
    var legend = radar.append("g");
    for (var quadrant = 0; quadrant < 4; quadrant++) {
      legend.append("text")
        .attr("transform", translate(
          legend_offset[quadrant].x,
          legend_offset[quadrant].y - 45
        ))
        .text(config.quadrants[quadrant].name)
        .style("font-family", "Arial, Helvetica")
        .style("font-size", "18px")
        .style("font-weight", "bold");
      for (var ring = 0; ring < 4; ring++) {
        legend.append("text")
          .attr("transform", legend_transform(quadrant, ring))
          .text(config.rings[ring].name)
          .style("font-family", "Arial, Helvetica")
          .style("font-size", "12px")
          .style("font-weight", "bold")
          .style("fill", config.rings[ring].color);
        legend.selectAll(".legend" + quadrant + ring)
          .data(segmented[quadrant][ring])
          .enter()
            .append("a")
              .attr("href", function (d, i) {
                 return d.link ? d.link : "#"; // stay on same page if no link was provided
              })
              // Add a target if (and only if) there is a link and we want new tabs
              .attr("target", function (d, i) {
                 return (d.link && config.links_in_new_tabs) ? "_blank" : null;
              })
            .append("text")
              .attr("transform", function(d, i) { return legend_transform(quadrant, ring, i); })
              .attr("class", "legend" + quadrant + ring)
              .attr("id", function(d, i) { return "legendItem" + d.id; })
              .text(function(d, i) { return d.id + ". " + d.label; })
              .style("font-family", "Arial, Helvetica")
              .style("font-size", "11px")
              .on("mouseover", function(d) { showBubble(d); highlightLegendItem(d); })
              .on("mouseout", function(d) { hideBubble(d); unhighlightLegendItem(d); });
      }
    }
  }

  // layer for entries
  var rink = radar.append("g")
    .attr("id", "rink");

  // rollover bubble (on top of everything else)
  var bubble = radar.append("g")
    .attr("id", "bubble")
    .attr("x", 0)
    .attr("y", 0)
    .style("opacity", 0)
    .style("pointer-events", "none")
    .style("user-select", "none");
  bubble.append("rect")
    .attr("rx", 4)
    .attr("ry", 4)
    .style("fill", "#333");
  bubble.append("text")
    .style("font-family", "sans-serif")
    .style("font-size", "10px")
    .style("fill", "#fff");
  bubble.append("path")
    .attr("d", "M 0,0 10,0 5,8 z")
    .style("fill", "#333");

  function showBubble(d) {
    if (d.active || config.print_layout) {
      var tooltip = d3.select("#bubble text")
        .text(d.label);
      var bbox = tooltip.node().getBBox();
      d3.select("#bubble")
        .attr("transform", translate(d.x - bbox.width / 2, d.y - 16))
        .style("opacity", 0.8);
      d3.select("#bubble rect")
        .attr("x", -5)
        .attr("y", -bbox.height)
        .attr("width", bbox.width + 10)
        .attr("height", bbox.height + 4);
      d3.select("#bubble path")
        .attr("transform", translate(bbox.width / 2 - 5, 3));
    }
  }

  function hideBubble(d) {
    var bubble = d3.select("#bubble")
      .attr("transform", translate(0,0))
      .style("opacity", 0);
  }

  function highlightLegendItem(d) {
    var legendItem = document.getElementById("legendItem" + d.id);
    legendItem.setAttribute("filter", "url(#solid)");
    legendItem.setAttribute("fill", "white");
  }

  function unhighlightLegendItem(d) {
    var legendItem = document.getElementById("legendItem" + d.id);
    legendItem.removeAttribute("filter");
    legendItem.removeAttribute("fill");
  }

  // draw blips on radar
  var blips = rink.selectAll(".blip")
    .data(config.entries)
    .enter()
      .append("g")
        .attr("class", "blip")
        .attr("transform", function(d, i) { return legend_transform(d.quadrant, d.ring, i); })
        .on("mouseover", function(d) { showBubble(d); highlightLegendItem(d); })
        .on("mouseout", function(d) { hideBubble(d); unhighlightLegendItem(d); });

  // configure each blip
  blips.each(function(d) {
    var blip = d3.select(this);

    // blip link
    if (d.active && d.hasOwnProperty("link") && d.link) {
      blip = blip.append("a")
        .attr("xlink:href", d.link);

      if (config.links_in_new_tabs) {
        blip.attr("target", "_blank");
      }
    }

    // blip shape
    if (d.moved > 0) {
      blip.append("path")
        .attr("d", "M -11,5 11,5 0,-13 z") // triangle pointing up
        .style("fill", d.color);
    } else if (d.moved < 0) {
      blip.append("path")
        .attr("d", "M -11,-5 11,-5 0,13 z") // triangle pointing down
        .style("fill", d.color);
    } else {
      blip.append("circle")
        .attr("r", 9)
        .attr("fill", d.color);
    }

    // blip text
    if (d.active || config.print_layout) {
      var blip_text = config.print_layout ? d.id : d.label.match(/[a-z]/i);
      blip.append("text")
        .text(blip_text)
        .attr("y", 3)
        .attr("text-anchor", "middle")
        .style("fill", "#fff")
        .style("font-family", "Arial, Helvetica")
        .style("font-size", function(d) { return blip_text.length > 2 ? "8px" : "9px"; })
        .style("pointer-events", "none")
        .style("user-select", "none");
    }
  });

  // make sure that blips stay inside their segment
  function ticked() {
    blips.attr("transform", function(d) {
      return translate(d.segment.clipx(d), d.segment.clipy(d));
    })
  }

  // distribute blips, while avoiding collisions
  d3.forceSimulation()
    .nodes(config.entries)
    .velocityDecay(0.19) // magic number (found by experimentation)
    .force("collision", d3.forceCollide().radius(12).strength(0.85))
    .on("tick", ticked);
}

}



  </script>
    

</body>
</html>